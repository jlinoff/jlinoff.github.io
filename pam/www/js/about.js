// about dialogue
import { xmk, xget, xgetn, enableFunctionChaining } from './lib.js'
import { mkPopupModalDlgButton, mkPopupModalDlg } from './utils.js'
import { VERSION } from './version.js'  // automatically generated by make

export function menuAboutDlg() {
    let custom = window.prefs.customAboutInfo
    let helpLink = ``
    let body = xmk('center')
        .xId('about')
        .xAppendChild(
            xmk('p').xInnerHTML('PAM &copy; 2022'),
            xmk('p').xInnerHTML(`Version ${VERSION}`),
            xmk('p').xInnerHTML('Personal Accounts Manager'),
            xmk('p').xInnerHTML('Written by Joe Linoff'),
            xmk('p').xClass('x-project-link').xInnerHTML(`<a href="${window.prefs.projectLink}" target="_blank">Project</a>`),
            //xmk('p').xClass('x-help-link').xInnerHTML(`<a href="${window.prefs.helpLink}" target="_blank">Help</a>`),
            xmk('p').xInnerHTML('<i>A web app that allows you to securely manage your ' +
                                'personal accounts data without ever communicating with a server.</i>'),
            xmk('p').xId('x-about-info').xInnerHTML(custom),
        )
    let b1 = mkPopupModalDlgButton('Close',
                                 'btn-secondary',
                                 'close the dialogue',
                                 (el) => {
                                     console.log(el)
                                     return true
                                 })
    let e = mkPopupModalDlg('menuAboutDlg', 'About', body, b1)
    return e
}

